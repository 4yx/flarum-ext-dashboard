{"version":3,"sources":["webpack://@datitisev/dashboard/webpack/bootstrap","webpack://@datitisev/dashboard/external \"flarum.core.compat['helpers/icon']\"","webpack://@datitisev/dashboard/external \"flarum.core.compat['components/Button']\"","webpack://@datitisev/dashboard/external \"flarum.core.compat['components/DashboardWidget']\"","webpack://@datitisev/dashboard/external \"flarum.core.compat['components/Modal']\"","webpack://@datitisev/dashboard/external \"flarum.core.compat['extend']\"","webpack://@datitisev/dashboard/external \"flarum.core.compat['components/AdminNav']\"","webpack://@datitisev/dashboard/external \"flarum.core.compat['components/DashboardPage']\"","webpack://@datitisev/dashboard/./node_modules/p-queue/dist/index.js","webpack://@datitisev/dashboard/external \"flarum.core.compat['components/Switch']\"","webpack://@datitisev/dashboard/external \"flarum.core.compat['components/LoadingIndicator']\"","webpack://@datitisev/dashboard/./node_modules/eventemitter3/index.js","webpack://@datitisev/dashboard/./node_modules/p-timeout/index.js","webpack://@datitisev/dashboard/./node_modules/p-finally/index.js","webpack://@datitisev/dashboard/./node_modules/p-queue/dist/priority-queue.js","webpack://@datitisev/dashboard/./node_modules/p-queue/dist/lower-bound.js","webpack://@datitisev/dashboard/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@datitisev/dashboard/./src/components/DashboardWidgetGraph.js","webpack://@datitisev/dashboard/./src/components/ExtensionUpdatesModal.js","webpack://@datitisev/dashboard/./src/components/DashboardExtensionInfoModal.js","webpack://@datitisev/dashboard/./src/components/DashboardWidgetExtensions.js","webpack://@datitisev/dashboard/./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","flarum","core","compat","EventEmitter","p_timeout_1","priority_queue_1","empty","timeoutError","default","TimeoutError","[object Object]","options","super","this","_intervalCount","_intervalEnd","_pendingCount","_resolveEmpty","_resolveIdle","assign","carryoverConcurrencyCount","intervalCap","Infinity","interval","concurrency","autoStart","queueClass","TypeError","undefined","Number","isFinite","_carryoverConcurrencyCount","_isIntervalIgnored","_intervalCap","_interval","_queue","_queueClass","_concurrency","_timeout","timeout","_throwOnTimeout","throwOnTimeout","_paused","doesIntervalAllowAnother","doesConcurrentAllowAnother","tryToStartAnother","onInterval","initializeIntervalIfNeeded","_timeoutId","now","Date","_intervalId","delay","setTimeout","onResumeInterval","size","clearInterval","resolvePromises","canInitializeInterval","intervalPaused","emit","dequeue","setInterval","fn","Promise","resolve","reject","enqueue","async","operation","error","next","functions","all","map","function_","add","existingResolve","pending","isPaused","milliseconds","has","prefix","Events","EE","context","once","addListener","emitter","event","listener","evt","_events","push","_eventsCount","clearEvent","__proto__","eventNames","events","names","slice","getOwnPropertySymbols","concat","listeners","handlers","length","ee","Array","listenerCount","a1","a2","a3","a4","a5","args","len","arguments","removeListener","apply","j","on","removeAllListeners","off","prefixed","pFinally","Error","message","pTimeout","promise","fallback","timer","cancel","then","clearTimeout","onFinally","val","err","lower_bound_1","run","element","priority","index","a","b","splice","item","shift","array","comparator","first","count","step","it","_inheritsLoose","subClass","superClass","constructor","DashboardWidgetGraph","init","_DashboardWidget","months","app","translator","trans","content","_app$data$datitisevD","data","userCount","discussionCount","postCount","className","graphView","keys","id","month","DashboardWidget","ExtensionUpdatesModal","loading","needsUpdate","errors","getPackagesAndVersions","title","updates","transChoice","_this","style","extension","oldVersion","newVersion","ext","version","_this2","queue","PQueue","promises","values","extensions","filter","v","startsWith","request","url","latestVersion","versions","extensionUpdates","status","startComputation","addAll","endComputation","Modal","DashboardExtensionInfoModal","_Modal","props","isEnabled","LoadingIndicator_default","extensionSettings","Button","component","icon","onclick","uninstall","hide","extra","description","authors","e","join","source","href","target","Switch","state","children","onchange","toggle","isDismissible","JSON","parse","settings","extensions_enabled","includes","enabled","forum","attribute","method","enabledArr","indexOf","stringify","redraw","DashboardWidgetExtensions","modal","show","initializers","extend","AdminNav","items","remove","DashboardPage","DashboardWidgetGraph_DashboardWidgetGraph","DashboardWidgetExtensions_DashboardWidgetExtensions"],"mappings":"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","file":"admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n","module.exports = flarum.core.compat['helpers/icon'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/DashboardWidget'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['components/AdminNav'];","module.exports = flarum.core.compat['components/DashboardPage'];","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst EventEmitter = require(\"eventemitter3\");\nconst p_timeout_1 = require(\"p-timeout\");\nconst priority_queue_1 = require(\"./priority-queue\");\nconst empty = () => { };\nconst timeoutError = new p_timeout_1.default.TimeoutError();\n/**\nPromise queue with concurrency control.\n*/\nclass PQueue extends EventEmitter {\n    constructor(options) {\n        super();\n        this._intervalCount = 0;\n        this._intervalEnd = 0;\n        this._pendingCount = 0;\n        this._resolveEmpty = empty;\n        this._resolveIdle = empty;\n        // eslint-disable-next-line @typescript-eslint/no-object-literal-type-assertion\n        options = Object.assign({ carryoverConcurrencyCount: false, intervalCap: Infinity, interval: 0, concurrency: Infinity, autoStart: true, queueClass: priority_queue_1.default }, options);\n        if (!(typeof options.concurrency === 'number' && options.concurrency >= 1)) {\n            throw new TypeError(`Expected \\`concurrency\\` to be a number from 1 and up, got \\`${options.concurrency}\\` (${typeof options.concurrency})`);\n        }\n        if (!(typeof options.intervalCap === 'number' && options.intervalCap >= 1)) {\n            throw new TypeError(`Expected \\`intervalCap\\` to be a number from 1 and up, got \\`${options.intervalCap}\\` (${typeof options.intervalCap})`);\n        }\n        if (options.interval === undefined || !(Number.isFinite(options.interval) && options.interval >= 0)) {\n            throw new TypeError(`Expected \\`interval\\` to be a finite number >= 0, got \\`${options.interval}\\` (${typeof options.interval})`);\n        }\n        this._carryoverConcurrencyCount = options.carryoverConcurrencyCount;\n        this._isIntervalIgnored = options.intervalCap === Infinity || options.interval === 0;\n        this._intervalCap = options.intervalCap;\n        this._interval = options.interval;\n        this._queue = new options.queueClass();\n        this._queueClass = options.queueClass;\n        this._concurrency = options.concurrency;\n        this._timeout = options.timeout;\n        this._throwOnTimeout = options.throwOnTimeout === true;\n        this._paused = options.autoStart === false;\n    }\n    get doesIntervalAllowAnother() {\n        return this._isIntervalIgnored || this._intervalCount < this._intervalCap;\n    }\n    get doesConcurrentAllowAnother() {\n        return this._pendingCount < this._concurrency;\n    }\n    next() {\n        this._pendingCount--;\n        this.tryToStartAnother();\n    }\n    resolvePromises() {\n        this._resolveEmpty();\n        this._resolveEmpty = empty;\n        if (this._pendingCount === 0) {\n            this._resolveIdle();\n            this._resolveIdle = empty;\n        }\n    }\n    onResumeInterval() {\n        this.onInterval();\n        this.initializeIntervalIfNeeded();\n        this._timeoutId = undefined;\n    }\n    intervalPaused() {\n        const now = Date.now();\n        if (this._intervalId === undefined) {\n            const delay = this._intervalEnd - now;\n            if (delay < 0) {\n                // Act as the interval was done\n                // We don't need to resume it here because it will be resumed on line 160\n                this._intervalCount = (this._carryoverConcurrencyCount) ? this._pendingCount : 0;\n            }\n            else {\n                // Act as the interval is pending\n                if (this._timeoutId === undefined) {\n                    this._timeoutId = setTimeout(() => {\n                        this.onResumeInterval();\n                    }, delay);\n                }\n                return true;\n            }\n        }\n        return false;\n    }\n    tryToStartAnother() {\n        if (this._queue.size === 0) {\n            // We can clear the interval (\"pause\")\n            // Because we can redo it later (\"resume\")\n            if (this._intervalId) {\n                clearInterval(this._intervalId);\n            }\n            this._intervalId = undefined;\n            this.resolvePromises();\n            return false;\n        }\n        if (!this._paused) {\n            const canInitializeInterval = !this.intervalPaused();\n            if (this.doesIntervalAllowAnother && this.doesConcurrentAllowAnother) {\n                this.emit('active');\n                this._queue.dequeue()();\n                if (canInitializeInterval) {\n                    this.initializeIntervalIfNeeded();\n                }\n                return true;\n            }\n        }\n        return false;\n    }\n    initializeIntervalIfNeeded() {\n        if (this._isIntervalIgnored || this._intervalId !== undefined) {\n            return;\n        }\n        this._intervalId = setInterval(() => {\n            this.onInterval();\n        }, this._interval);\n        this._intervalEnd = Date.now() + this._interval;\n    }\n    onInterval() {\n        if (this._intervalCount === 0 && this._pendingCount === 0 && this._intervalId) {\n            clearInterval(this._intervalId);\n            this._intervalId = undefined;\n        }\n        this._intervalCount = this._carryoverConcurrencyCount ? this._pendingCount : 0;\n        // eslint-disable-next-line no-empty\n        while (this.tryToStartAnother()) { }\n    }\n    /**\n    Adds a sync or async task to the queue. Always returns a promise.\n    */\n    async add(fn, options) {\n        return new Promise((resolve, reject) => {\n            const run = async () => {\n                this._pendingCount++;\n                this._intervalCount++;\n                try {\n                    const operation = this._timeout === undefined ? fn() : p_timeout_1.default(Promise.resolve(fn()), this._timeout, () => {\n                        if (this._throwOnTimeout) {\n                            reject(timeoutError);\n                        }\n                        return undefined;\n                    });\n                    resolve(await operation);\n                }\n                catch (error) {\n                    reject(error);\n                }\n                this.next();\n            };\n            this._queue.enqueue(run, options);\n            this.tryToStartAnother();\n        });\n    }\n    /**\n    Same as `.add()`, but accepts an array of sync or async functions.\n\n    @returns A promise that resolves when all functions are resolved.\n    */\n    async addAll(functions, options) {\n        return Promise.all(functions.map(function_ => this.add(function_, options)));\n    }\n    /**\n    Start (or resume) executing enqueued tasks within concurrency limit. No need to call this if queue is not paused (via `options.autoStart = false` or by `.pause()` method.)\n    */\n    start() {\n        if (!this._paused) {\n            return;\n        }\n        this._paused = false;\n        // eslint-disable-next-line no-empty\n        while (this.tryToStartAnother()) { }\n    }\n    /**\n    Put queue execution on hold.\n    */\n    pause() {\n        this._paused = true;\n    }\n    /**\n    Clear the queue.\n    */\n    clear() {\n        this._queue = new this._queueClass();\n    }\n    /**\n    Can be called multiple times. Useful if you for example add additional items at a later time.\n\n    @returns A promise that settles when the queue becomes empty.\n    */\n    async onEmpty() {\n        // Instantly resolve if the queue is empty\n        if (this._queue.size === 0) {\n            return;\n        }\n        return new Promise(resolve => {\n            const existingResolve = this._resolveEmpty;\n            this._resolveEmpty = () => {\n                existingResolve();\n                resolve();\n            };\n        });\n    }\n    /**\n    The difference with `.onEmpty` is that `.onIdle` guarantees that all work from the queue has finished. `.onEmpty` merely signals that the queue is empty, but it could mean that some promises haven't completed yet.\n\n    @returns A promise that settles when the queue becomes empty, and all promises have completed; `queue.size === 0 && queue.pending === 0`.\n    */\n    async onIdle() {\n        // Instantly resolve if none pending and if nothing else is queued\n        if (this._pendingCount === 0 && this._queue.size === 0) {\n            return;\n        }\n        return new Promise(resolve => {\n            const existingResolve = this._resolveIdle;\n            this._resolveIdle = () => {\n                existingResolve();\n                resolve();\n            };\n        });\n    }\n    /**\n    Size of the queue.\n    */\n    get size() {\n        return this._queue.size;\n    }\n    /**\n    Number of pending promises.\n    */\n    get pending() {\n        return this._pendingCount;\n    }\n    /**\n    Whether the queue is currently paused.\n    */\n    get isPaused() {\n        return this._paused;\n    }\n    /**\n    Set the timeout for future operations.\n    */\n    set timeout(milliseconds) {\n        this._timeout = milliseconds;\n    }\n    get timeout() {\n        return this._timeout;\n    }\n}\nexports.default = PQueue;\n//# sourceMappingURL=index.js.map","module.exports = flarum.core.compat['components/Switch'];","module.exports = flarum.core.compat['components/LoadingIndicator'];","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","'use strict';\n\nconst pFinally = require('p-finally');\n\nclass TimeoutError extends Error {\n\tconstructor(message) {\n\t\tsuper(message);\n\t\tthis.name = 'TimeoutError';\n\t}\n}\n\nconst pTimeout = (promise, milliseconds, fallback) => new Promise((resolve, reject) => {\n\tif (typeof milliseconds !== 'number' || milliseconds < 0) {\n\t\tthrow new TypeError('Expected `milliseconds` to be a positive number');\n\t}\n\n\tconst timer = setTimeout(() => {\n\t\tif (typeof fallback === 'function') {\n\t\t\ttry {\n\t\t\t\tresolve(fallback());\n\t\t\t} catch (error) {\n\t\t\t\treject(error);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst message = typeof fallback === 'string' ? fallback : `Promise timed out after ${milliseconds} milliseconds`;\n\t\tconst timeoutError = fallback instanceof Error ? fallback : new TimeoutError(message);\n\n\t\tif (typeof promise.cancel === 'function') {\n\t\t\tpromise.cancel();\n\t\t}\n\n\t\treject(timeoutError);\n\t}, milliseconds);\n\n\t// TODO: Use native `finally` keyword when targeting Node.js 10\n\tpFinally(\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\tpromise.then(resolve, reject),\n\t\t() => {\n\t\t\tclearTimeout(timer);\n\t\t}\n\t);\n});\n\nmodule.exports = pTimeout;\n// TODO: Remove this for the next major release\nmodule.exports.default = pTimeout;\n\nmodule.exports.TimeoutError = TimeoutError;\n","'use strict';\nmodule.exports = (promise, onFinally) => {\n\tonFinally = onFinally || (() => {});\n\n\treturn promise.then(\n\t\tval => new Promise(resolve => {\n\t\t\tresolve(onFinally());\n\t\t}).then(() => val),\n\t\terr => new Promise(resolve => {\n\t\t\tresolve(onFinally());\n\t\t}).then(() => {\n\t\t\tthrow err;\n\t\t})\n\t);\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst lower_bound_1 = require(\"./lower-bound\");\nclass PriorityQueue {\n    constructor() {\n        this._queue = [];\n    }\n    enqueue(run, options) {\n        options = Object.assign({ priority: 0 }, options);\n        const element = {\n            priority: options.priority,\n            run\n        };\n        if (this.size && this._queue[this.size - 1].priority >= options.priority) {\n            this._queue.push(element);\n            return;\n        }\n        const index = lower_bound_1.default(this._queue, element, (a, b) => b.priority - a.priority);\n        this._queue.splice(index, 0, element);\n    }\n    dequeue() {\n        const item = this._queue.shift();\n        return item && item.run;\n    }\n    get size() {\n        return this._queue.length;\n    }\n}\nexports.default = PriorityQueue;\n//# sourceMappingURL=priority-queue.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Port of lower_bound from http://en.cppreference.com/w/cpp/algorithm/lower_bound\n// Used to compute insertion index to keep queue sorted after insertion\nfunction lowerBound(array, value, comparator) {\n    let first = 0;\n    let count = array.length;\n    while (count > 0) {\n        const step = (count / 2) | 0;\n        let it = first + step;\n        if (comparator(array[it], value) <= 0) {\n            first = ++it;\n            count -= step + 1;\n        }\n        else {\n            count = step;\n        }\n    }\n    return first;\n}\nexports.default = lowerBound;\n//# sourceMappingURL=lower-bound.js.map","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import DashboardWidget from 'flarum/components/DashboardWidget';\n\nexport default class DashboardWidgetGraph extends DashboardWidget {\n    init() {\n        super.init();\n\n        this.months = [\n            app.translator.trans('datitisev-dashboard.admin.dashboard.months.january'),\n            app.translator.trans('datitisev-dashboard.admin.dashboard.months.february'),\n            app.translator.trans('datitisev-dashboard.admin.dashboard.months.march'),\n            app.translator.trans('datitisev-dashboard.admin.dashboard.months.april'),\n            app.translator.trans('datitisev-dashboard.admin.dashboard.months.may'),\n            app.translator.trans('datitisev-dashboard.admin.dashboard.months.june'),\n            app.translator.trans('datitisev-dashboard.admin.dashboard.months.july'),\n            app.translator.trans('datitisev-dashboard.admin.dashboard.months.august'),\n            app.translator.trans('datitisev-dashboard.admin.dashboard.months.september'),\n            app.translator.trans('datitisev-dashboard.admin.dashboard.months.october'),\n            app.translator.trans('datitisev-dashboard.admin.dashboard.months.november'),\n            app.translator.trans('datitisev-dashboard.admin.dashboard.months.december'),\n        ];\n    }\n\n    content() {\n        const { userCount, discussionCount, postCount } = app.data['datitisev-dashboard'];\n\n        return (\n            <div className=\"DashboardGraph--Categories\">\n                <div className=\"DashboardGraph--Category Category--Users\">\n                    <span className=\"color\" />\n                    {app.translator.trans('datitisev-dashboard.admin.dashboard.graph.users')}\n                    <br />\n                    <span className=\"number\">{userCount}</span>\n                </div>\n                <div className=\"DashboardGraph--Category Category--Discussions\">\n                    <span className=\"color\" />\n                    {app.translator.trans('datitisev-dashboard.admin.dashboard.graph.discussions')}\n                    <br />\n                    <span className=\"number\">{discussionCount}</span>\n                </div>\n                <div className=\"DashboardGraph--Category Category--Posts\">\n                    <span className=\"color\" />\n                    {app.translator.trans('datitisev-dashboard.admin.dashboard.graph.posts')}\n                    <br />\n                    <span className=\"number\">{postCount}</span>\n                </div>\n            </div>\n        );\n    }\n\n    className() {\n        return 'DashboardGraph';\n    }\n\n    graphView() {\n        return (\n            <div className=\"DashboardGraph--Graph\">\n                {Object.keys(this.months).map(id => {\n                    const month = months[id];\n                    return (\n                        <div className=\"DashboardGraph--Month\">\n                            <div className=\"bars\">BAR</div>\n                            <div className=\"name\">{month}</div>\n                        </div>\n                    );\n                })}\n            </div>\n        );\n    }\n}\n","import Modal from 'flarum/components/Modal';\nimport PQueue from 'p-queue';\n\nexport default class ExtensionUpdatesModal extends Modal {\n    init() {\n        this.loading = true;\n        this.needsUpdate = [];\n\n        this.errors = [];\n\n        this.getPackagesAndVersions();\n    }\n\n    className() {\n        return 'DashboardSettingsModal ExtensionUpdatesModal Modal--large';\n    }\n\n    title() {\n        const updates = this.needsUpdate.length;\n\n        if (updates > 0) {\n            return app.translator.transChoice('datitisev-dashboard.admin.dashboard.updates.available', updates, { count: updates });\n        }\n\n        if (this.loading) {\n            return app.translator.trans('datitisev-dashboard.admin.dashboard.updates.checking');\n        } else if (updates === 0) {\n            return app.translator.trans('datitisev-dashboard.admin.dashboard.updates.none');\n        }\n    }\n\n    content() {\n        return (\n            <div className=\"PermissionGrid container\">\n                <table className=\"PermissionGrid\" style={!this.errors && this.needsUpdate.length === 0 ? 'display: none' : ''}>\n                    <thead>\n                        <tr>\n                            <th>\n                                Extension\n                                {this.loading && (\n                                    <span>\n                                        &nbsp;&nbsp;\n                                        <i className=\"fas fa-circle-notch fa-spin\" />\n                                    </span>\n                                )}\n                            </th>\n                            <th>Version Installed</th>\n                            <th>New Version</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {Object.keys(this.needsUpdate).map(id => {\n                            const extension = this.needsUpdate[id];\n                            return (\n                                <tr className=\"PermissionGrid-child\">\n                                    <td>{extension.name}</td>\n                                    <td>{extension.oldVersion}</td>\n                                    <td>{extension.newVersion}</td>\n                                </tr>\n                            );\n                        })}\n\n                        {this.errors &&\n                            this.errors.map(ext => (\n                                <tr className=\"ExtensionUpdatesModal--Error PermissionGrid-child\">\n                                    <td>{ext.name}</td>\n                                    <td>{ext.version}</td>\n                                    <td>{ext.error}</td>\n                                </tr>\n                            ))}\n                    </tbody>\n                </table>\n                <div style={this.needsUpdate.length === 0 && !this.errors && !this.loading ? '' : 'display: none'}>\n                    <h3>{app.translator.trans('datitisev-dashboard.admin.dashboard.updates.none')}</h3>\n                </div>\n            </div>\n        );\n    }\n\n    getPackagesAndVersions() {\n        const queue = new PQueue({\n            intervalCap: 2,\n            interval: 500,\n        });\n        const extensions = Object.values(app.data.extensions).filter(v => !v.version.startsWith('dev'));\n\n        const promises = extensions.map(extension => () =>\n            m\n                .request({\n                    url: `https://packagist.org/packages/${extension.name}.json`,\n                })\n                .then(data => {\n                    data = data.package;\n\n                    const versions = Object.keys(data.versions)\n                        .filter(v => !v.startsWith('dev'));\n                    const latestVersion = versions[0];\n                    const version = extension.version;\n\n                    if (latestVersion && version !== latestVersion) {\n                        this.extensionUpdates = this.needsUpdate.length + 1;\n\n                        this.needsUpdate.push({\n                            name: extension.name,\n                            oldVersion: version,\n                            newVersion: latestVersion,\n                        });\n                    }\n                })\n                .catch(err => {\n                    if (!err || typeof err !== 'object' || !err.message) return false;\n\n                    this.errors.push({\n                        name: extension.name,\n                        version: extension.version,\n                        error: err.status ? `${err.status}: ${err.message}` : err.message,\n                    });\n                })\n        );\n\n        m.startComputation();\n\n        queue.addAll(promises).then(() => {\n          this.loading = false;\n\n          m.endComputation();\n        });\n    }\n}\n","import Modal from 'flarum/components/Modal';\nimport Button from 'flarum/components/Button';\nimport icon from 'flarum/helpers/icon';\nimport Switch from 'flarum/components/Switch';\nimport LoadingIndicator from 'flarum/components/LoadingIndicator';\n\nexport default class DashboardExtensionInfoModal extends Modal {\n    init() {\n        super.init();\n\n        this.extension = this.props.extension;\n    }\n\n    className() {\n        return 'DashboardExtensionInfoModal Modal--large';\n    }\n\n    content() {\n        const extension = this.extension;\n        const isEnabled = this.isEnabled(extension.id);\n\n        return (\n            <div className=\"DashboardExtensionInfo\">\n                <div className=\"Modal-close App-backControl\">\n                    {this.loading && <LoadingIndicator className=\"LoadingIndicator--inline\" />}\n                    {isEnabled &&\n                        app.extensionSettings[extension.id] &&\n                        Button.component({\n                            icon: 'fas fa-cog',\n                            onclick: () => app.extensionSettings[extension.id](),\n                            className: 'Button Button--icon Button--link',\n                        })}\n                    {!isEnabled &&\n                        Button.component({\n                            icon: 'fas fa-unlink',\n                            onclick: this.uninstall.bind(this),\n                            className: 'Button Button--icon Button--link',\n                        })}\n                    {Button.component({\n                        icon: 'fas fa-times',\n                        onclick: this.hide.bind(this),\n                        className: 'Button Button--icon Button--link',\n                    })}\n                </div>\n\n                <div className=\"DashboardExtensionInfo-Main\">\n                    <spam className=\"DashboardExtensionInfoMain-icon\" style={extension.icon}>\n                        {extension.icon ? icon(extension.icon.name) : ''}\n                    </spam>\n                    <h3 className=\"DashboardExtensionInfoMain-title\">{extension.extra['flarum-extension'].title}</h3>\n                    <span className=\"DashboardExtensionInfoMain-name\">{extension.name}</span>\n                    <span className=\"DashboardExtensionInfoMain-version\">{extension.version}</span>\n                    <p className=\"DashboardExtensionInfoMain-description\">{extension.description || ''}</p>\n                    <p className=\"DashboardExtensionInfoMain-useful\">\n                        <p className=\"DashboardExtensionInfoMainUseful-author\">\n                            {extension.authors && extension.authors.length === 1 ? icon('fas fa-user') : icon('fas fa-users')}\n                            &nbsp;\n                            {extension.authors ? extension.authors.map(e => e.name).join(', ') : 'Unknown'}\n                        </p>\n                        <p className=\"DashboardExtensionInfoMainUseful-source\">\n                            {icon('fas fa-code')}\n                            &nbsp;\n                            {extension.source ? (\n                                <a href={extension.source.url} target=\"_blank\">\n                                    Source\n                                </a>\n                            ) : (\n                                'Unknown'\n                            )}\n                        </p>\n                    </p>\n                    <div className=\"DashboardExtensionInfoMain-enabled\">\n                        {Switch.component({\n                            state: isEnabled,\n                            children: isEnabled ? 'Enabled' : 'Disabled',\n                            onchange: this.toggle.bind(this, extension.id),\n                        })}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    isDismissible() {\n        return true;\n    }\n\n    isEnabled(name) {\n        const enabled = JSON.parse(app.data.settings.extensions_enabled);\n\n        return enabled.includes(name);\n    }\n\n    toggle(id) {\n        const enabled = this.isEnabled(id);\n\n        app.request({\n            url: `${app.forum.attribute('apiUrl')}/extensions/${id}`,\n            method: 'PATCH',\n            data: { enabled: !enabled },\n        }).then(() => {\n            const enabledArr = JSON.parse(app.data.settings.extensions_enabled);\n            if (!enabled) enabledArr.push(id);\n            else enabledArr.splice(enabledArr.indexOf(id), 1);\n\n            app.data.settings.extensions_enabled = JSON.stringify(enabledArr);\n\n            m.redraw();\n        });\n    }\n\n    uninstall() {\n        this.loading = true;\n\n        return app\n            .request({\n                url: `${app.forum.attribute('apiUrl')}/extensions/${this.extension.id}`,\n                method: 'DELETE',\n            })\n            .then(() => {\n                this.loading = false;\n                m.redraw();\n            });\n    }\n}\n","import Button from 'flarum/components/Button';\nimport DashboardWidget from 'flarum/components/DashboardWidget';\nimport icon from 'flarum/helpers/icon';\n\nimport ExtensionUpdatesModal from './ExtensionUpdatesModal';\nimport DashboardExtensionInfoModal from './DashboardExtensionInfoModal';\n\nexport default class DashboardWidgetExtensions extends DashboardWidget {\n    content() {\n        const extensions = app.data.extensions;\n\n        return (\n            <div>\n                <div className=\"DashboardExtensions--Title\">\n                    <span>{app.translator.trans('core.admin.nav.extensions_button')}</span>\n\n                    {Button.component({\n                        children: icon('fas fa-upload'),\n                        className: 'Button',\n                        onclick: () => app.modal.show(new ExtensionUpdatesModal()),\n                    })}\n                </div>\n\n                <div className=\"DashboardExtensions--List\">\n                    {Object.values(extensions).map(extension => (\n                        <li\n                            className={'DashboardExtensions--Item ' + (this.isEnabled(extension.id) ? 'enabled' : 'disabled')}\n                            onclick={() =>\n                                app.modal.show(\n                                    new DashboardExtensionInfoModal({\n                                        extension,\n                                    })\n                                )\n                            }\n                        >\n                            <div className=\"DashboardExtensionsItem-content\">\n                                <spam className=\"DashboardExtensionsItem-icon\" style={extension.icon}>\n                                    {extension.icon ? icon(extension.icon.name) : ''}\n                                </spam>\n                                <label className=\"DashboardExtensionsItem-title\">{extension.extra['flarum-extension'].title}</label>\n                            </div>\n                        </li>\n                    ))}\n                </div>\n            </div>\n        );\n    }\n\n    isEnabled(name) {\n        const enabled = JSON.parse(app.data.settings.extensions_enabled);\n\n        return enabled.includes(name);\n    }\n\n    className() {\n        return 'DashboardExtensions';\n    }\n}\n","import { extend } from 'flarum/extend';\nimport AdminNav from 'flarum/components/AdminNav';\nimport DashboardPage from 'flarum/components/DashboardPage';\n\nimport WidgetGraph from './components/DashboardWidgetGraph';\nimport WidgetExtensions from './components/DashboardWidgetExtensions';\n\napp.initializers.add('datitisev/dashboard', () => {\n    extend(AdminNav.prototype, 'items', items => {\n        items.remove('extensions');\n    });\n\n    extend(DashboardPage.prototype, 'availableWidgets', items => {\n        items.push(<WidgetGraph />);\n        items.push(<WidgetExtensions />);\n    });\n});\n"],"sourceRoot":""}